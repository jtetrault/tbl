<div ng-if='authenticated' class='row'>
  <div class='col-md-12'>
    <form enctype='multipart/form-data' novalidate>
      <div class='form-group'>
        <label for='player.first_name'>First Name</label>
        <input id='player.first_name' class='form-control' type='text' ng-model='player.first_name'/>
      </div>
      <div class='form-group'>
        <label for='player.last_name'>Last Name</label>
        <input id='player.last_name' class='form-control' type='text' ng-model='player.last_name'/>
      </div>
      <div class='form-group'>
        <label for='player.link_name'>Id</label>
        <input id='player.link_name' class='form-control' type='text' ng-model='player.link_name'/>
      </div>
      <div class='form-group'>
        <label for='player.blurb'>Blurb</label>
        <textarea id='player.blurb' class='form-control' ng-model='player.blurb' rows='10'></textarea>
      </div>
      <div class='form-group' ng-if='player._id'>
        <label for='player.image'>Profile Picture</label>
        <div class='row'>
          <div class='col-md-4'>
            <img id='player.image' ng-if='player.image' class='img-responsive img-thumbnail' ng-src='{{player.image}}'>
          </div>
        </div>
        <div class='btn btn-primary btn-upload' upload-button 
          url='/players/{{player.link_name}}/image'
          param='image'
          accept='image/*'
          on-success='onImageUploadSuccess(response)'>
          Upload New Profile Picture
        </div>
      </div>
      <label>Attributes</label>
      <div class='form-group'>
        <div class='form-inline' ng-repeat='attribute in player.attributes'>
          <input class='form-control' type='text' ng-model='attribute.key' placeholder='Key'>
          <input class='form-control' type='text' ng-model='attribute.value' placeholder='Value'>
        </div>
        <button class='btn btn-success' ng-click='addAttribute(player)'>Add Attribute</button>
      </div>
      <button type='submit' class='btn btn-primary' ng-click='update(player)'>Submit</button>
      <button class='btn btn-default' ng-click='reset(player)'>Reset</button> 
      <a ng-if='player._id' class='btn btn-default' ui-sref='view_player({playerId: player.link_name})'>Cancel</a>
      <a ng-if='!player._id' class='btn btn-default' ui-sref='players.list'>Cancel</a>
      <button class='btn btn-danger' ng-click='removePlayer(player)'>Delete</button>
    </form>
  </div>
</div>